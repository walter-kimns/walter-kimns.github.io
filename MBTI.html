<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ìœ ì¾Œí•œ MBTI í…ŒìŠ¤íŠ¸</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: sans-serif;
      max-width: 700px;
      margin: 20px auto;
      padding: 10px;
    }
    h1 {
      text-align: center;
    }
    .question {
      margin: 15px 0;
    }
    label {
      display: block;
      margin: 4px 0;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      display: block;
      margin: 20px auto;
    }
    .result {
      margin-top: 30px;
      font-size: 22px;
      text-align: center;
      font-weight: bold;
    }
    .explanation {
      font-size: 18px;
      margin-top: 10px;
      text-align: center;
    }
    .share {
      text-align: center;
      margin-top: 20px;
    }
    input[type="text"] {
      width: 80%;
      padding: 5px;
      font-size: 16px;
      text-align: center;
    }
    @media (max-width: 600px) {
      body { font-size: 16px; }
      .question p { font-size: 16px; }
    }
  </style>
</head>
<body>
  <h1>ğŸ˜† ìœ ì¾Œë°œë„ MBTI í…ŒìŠ¤íŠ¸ ğŸ˜†</h1>
  <form id="mbtiForm"></form>

  <div class="result" id="result"></div>
  <div class="explanation" id="explanation"></div>

  <div class="share" id="share" style="display:none;">
    <p>ì•„ë˜ ë§í¬ë¥¼ ë³µì‚¬í•´ì„œ ì¹œêµ¬í•œí…Œ ìë‘í•´ë³´ì ğŸ˜</p>
    <input type="text" id="shareLink" readonly />
    <button onclick="copyLink()">ë§í¬ ë³µì‚¬</button>
  </div>

  <script>
    const QUESTIONS = {
      EI: [
        ["ì¹œêµ¬ë“¤ì´ë‘ ìˆ˜ë‹¤ ë–¨ë©´ ë°°í„°ë¦¬ ì¶©ì „ë˜ëŠ” ëŠë‚Œì´ë‹¤", "E"],
        ["í˜¼ì ì¹¨ëŒ€ì— ëˆ„ì›Œì„œ ì¡°ìš©íˆ ìˆëŠ” ê²Œ ìµœê³ ë‹¤", "I"],
        ["ìƒˆë¡œìš´ ëª¨ì„ì—ì„œë„ ê¸ˆë°© ì¹œí•´ì§€ëŠ” í¸ì´ë‹¤", "E"],
        ["ë‚¯ì„  ì‚¬ëŒê³¼ ëŒ€í™” ì‹œì‘ì€ ì¢€ ë¶€ë‹´ìŠ¤ëŸ½ë‹¤", "I"],
        ["ëª¨ë¥´ëŠ” ì‚¬ëŒí•œí…Œ ë¨¼ì € ë§ ê±¸ ìˆ˜ ìˆë‹¤", "E"],
        ["í˜¼ì ìˆëŠ” ì‹œê°„ ì—†ì´ ì¼ì • ê½‰ ì°¨ë©´ ìŠ¤íŠ¸ë ˆìŠ¤ ë°›ëŠ”ë‹¤", "I"]
      ],
      SN: [
        ["í˜„ì‹¤ì ì¸ ê³„íšì´ ì—†ìœ¼ë©´ ë¶ˆì•ˆí•˜ë‹¤", "S"],
        ["ì§ê´€ì ìœ¼ë¡œ ëŠë‚Œì´ ì˜¤ëŠ” ê±¸ ë¯¿ëŠ” í¸ì´ë‹¤", "N"],
        ["ë¨¸ë¦¿ì†ì— ìƒìƒë ¥ ê³µì¥ì´ ìì£¼ ê°€ë™ëœë‹¤", "N"],
        ["ìˆëŠ” ê·¸ëŒ€ë¡œ, íŒ©íŠ¸ê°€ ì¤‘ìš”í•˜ë‹¤", "S"],
        ["ìƒˆë¡œìš´ ì•„ì´ë””ì–´ ë– ì˜¬ë¦´ ë• ê¸°ë¶„ì´ ì¢‹ì•„ì§„ë‹¤", "N"],
        ["êµ¬ì²´ì ì¸ ì˜ˆì‹œê°€ ìˆì–´ì•¼ ì´í•´ê°€ ì˜ ëœë‹¤", "S"]
      ],
      TF: [
        ["ê²°ì •í•  ë• ì´ì„±ì ì¸ ê¸°ì¤€ì´ ë¨¼ì €ë‹¤", "T"],
        ["ìƒëŒ€ ê¸°ë¶„ ìƒí• ê¹Œ ë´ ë§í•˜ê¸° ì „ì— ê³ ë¯¼í•œë‹¤", "F"],
        ["ë…¼ë¦¬ì ìœ¼ë¡œ ë§ ì•ˆ í•˜ë©´ ë‹µë‹µí•˜ë‹¤", "T"],
        ["ê°ì • ê¸°ë³µì´ ë‚¨ë“¤ë³´ë‹¤ í° í¸ì´ë‹¤", "F"],
        ["ê°ì •ë³´ë‹¤ ì‚¬ì‹¤ì´ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•œë‹¤", "T"],
        ["ê°ì •ì´ì… ì˜í•´ì„œ ë“œë¼ë§ˆ ë³´ë©´ì„œ ìš´ ì  ìˆë‹¤", "F"]
      ],
      JP: [
        ["ê³„íší‘œ ì—†ì´ ì›€ì§ì´ë©´ ë¶ˆì•ˆí•˜ë‹¤", "J"],
        ["ê·¸ë‚ ê·¸ë‚  ëŠë‚ŒëŒ€ë¡œ ì‚¬ëŠ” ê²Œ ì¢‹ë‹¤", "P"],
        ["ìŠ¤ì¼€ì¤„ì€ ì¹¼ê°™ì´ ì§€ì¼œì•¼ ì§ì„±ì´ í’€ë¦°ë‹¤", "J"],
        ["ì¼ë‹¨ ì €ì§€ë¥´ê³  ìƒê°ì€ ë‚˜ì¤‘ì—!", "P"],
        ["ê²°ì • ë‚´ë¦´ ë•Œ ì˜¤ë˜ ê³ ë¯¼í•˜ëŠ” í¸ì´ë‹¤", "P"],
        ["ê³„íš ì„¸ìš°ê³  ê·¸ ê³„íšëŒ€ë¡œ ê°€ë©´ ê¸°ë¶„ì´ ì¢‹ë‹¤", "J"]
      ]
    };

    const TYPES = {
      ISTJ: "ê³„íš ì—†ì¸ ëª» ì‚´ì•„! í˜„ì‹¤ë ¥ ë§Œë ™ì¸ ê¼¼ê¼¼ìŸì´ ğŸ“‹",
      ISFJ: "ë‹¤ì •í•˜ê³  ì¡°ìš©í•œ ê´€ì°°ì! ì±™ê¹€ë ¥ 100% ë³´í˜¸ì ğŸ§£",
      INFJ: "ì„¸ìƒì— ì—†ë˜ ì´ìƒí–¥ì„ ê·¸ë¦¬ëŠ” ê°ì„± ì² í•™ì ğŸŒŒ",
      INTJ: "ë¨¸ë¦¬ë¡œ ì„¸ìƒì„ ì§€ë°°í•œë‹¤?! ì „ëµ ì„¤ê³„ ì¥ì¸ ğŸ¯",
      ISTP: "ê³ ì¥ ë‚œ ê¸°ê³„ ì•ì—ì„  ê³¼ë¬µí•œ ì²œì¬ ê³µëŒì´ ğŸ› ï¸",
      ISFP: "ê°ì„±í­ë°œ ì˜ˆìˆ ê°€! ë§ì—†ì´ ë¶„ìœ„ê¸°ë¥¼ ì‚´ë¦¬ëŠ” íƒ€ì… ğŸ¨",
      INFP: "ìš°ì£¼ì˜ ê³µê° ëŠ¥ë ¥ì! ì‹œ ì“°ëŠ” ì¤‘ì¬ì ğŸ“–",
      INTP: "ìƒê°ì˜ ëŠªì— ë¹ ì§„ í˜¸ê¸°ì‹¬ ì²œêµ­ ë‡Œì„¹ë‚¨ë…€ ğŸ§ ",
      ESTP: "ì§€ê¸ˆ ì•„ë‹ˆë©´ ì–¸ì œ í•´?! í–‰ë™íŒŒ ì¸ìƒ ë„ì „ì ğŸƒ",
      ESFP: "íŒŒí‹°ì˜ ì¤‘ì‹¬! ê¸ì • ì—ë„ˆì§€ ë¿œë¿œ ì—°ì˜ˆì¸ íƒ€ì… ğŸ‰",
      ENFP: "í•˜ëŠ” ê±° ë‹¤ ì¬ë°Œì–´! ì—´ì • ê°€ë“í•œ ë¬´í•œë„ì „ëŸ¬ ğŸ”¥",
      ENTP: "ë§ì‹¸ì›€ì—ì„  ì ˆëŒ€ ì•ˆ ì ¸! ì•„ì´ë””ì–´ í­ë°œ ë°œëª…ê°€ ğŸ§ª",
      ESTJ: "ì¼ë¨¸ë¦¬ ê°‘! ì¡°ì§ì˜ ë“ ë“ í•œ ê¸°ë‘¥ ğŸ’¼",
      ESFJ: "ëª¨ë‘ì˜ ì—„ë§ˆ ê°™ì€ ì¡´ì¬, ë”°ëœ»í•œ ë¶„ìœ„ê¸° ë©”ì´ì»¤ â˜•",
      ENFJ: "ì‚¬ëŒ ì˜ ì±™ê¸°ê³  ì´ë„ëŠ” ë¦¬ë”í˜•! ë”°ëœ»í•œ ì¹´ë¦¬ìŠ¤ë§ˆ ğŸ’–",
      ENTJ: "ì¹´ë¦¬ìŠ¤ë§ˆ í­ë°œ! ê³„íš ì„¸ìš°ê³  ì¶”ì§„ë ¥ ê°‘ ğŸ‘‘"
    };

    function renderQuestions() {
      const form = document.getElementById("mbtiForm");
      let idx = 1;
      for (let [key, items] of Object.entries(QUESTIONS)) {
        for (let [text, type] of items) {
          const div = document.createElement("div");
          div.className = "question";
          div.innerHTML = `
            <p>${idx}. ${text}</p>
            <label><input type="radio" name="q${idx}" value="${type}" /> ì™„ì „ ë‚˜ë‹¤</label>
            <label><input type="radio" name="q${idx}" value="${type === "E" || type === "S" || type === "T" || type === "J" ? (type === "E" ? "I" : type === "S" ? "N" : type === "T" ? "F" : "P") : "J"}" /> ë‚˜ë‘ì€ ì¢€ ê±°ë¦¬ê°€ ìˆìŒ</label>
          `;
          form.appendChild(div);
          idx++;
        }
      }
      const button = document.createElement("button");
      button.type = "button";
      button.textContent = "âœ¨ ê²°ê³¼ ë³´ê¸° âœ¨";
      button.onclick = calculateMBTI;
      form.appendChild(button);
    }

    function calculateMBTI() {
      const form = document.getElementById("mbtiForm");
      const data = new FormData(form);
      const counts = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
      for (let value of data.values()) {
        counts[value]++;
      }
      const mbti =
        (counts.E >= counts.I ? "E" : "I") +
        (counts.S >= counts.N ? "S" : "N") +
        (counts.T >= counts.F ? "T" : "F") +
        (counts.J >= counts.P ? "J" : "P");

      const result = document.getElementById("result");
      const explanation = document.getElementById("explanation");
      const share = document.getElementById("share");
      const link = document.getElementById("shareLink");

      result.innerText = `ë‹¹ì‹ ì˜ MBTIëŠ”: ${mbti} ğŸ‰`;
      explanation.innerText = TYPES[mbti] || "";
      share.style.display = "block";
      link.value = `${location.origin}${location.pathname}?result=${mbti}`;
      localStorage.setItem("lastMBTI", mbti);
    }

    function copyLink() {
      const input = document.getElementById("shareLink");
      input.select();
      document.execCommand("copy");
      alert("ë§í¬ ë³µì‚¬ ì™„ë£Œ! ì¹œêµ¬í•œí…Œ ë¿Œë ¤ë³´ì âœ¨");
    }

    function showSharedResult() {
      const params = new URLSearchParams(location.search);
      const mbti = params.get("result");
      if (mbti && TYPES[mbti]) {
        document.getElementById("result").innerText = `ê³µìœ ëœ MBTI: ${mbti}`;
        document.getElementById("explanation").innerText = TYPES[mbti];
        document.getElementById("share").style.display = "block";
        document.getElementById("shareLink").value = location.href;
      }
    }

    renderQuestions();
    showSharedResult();
  </script>
</body>
</html>
